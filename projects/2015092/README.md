# Οπτικοποίηση δεδομένων χορηγιών (UK)
## Τασούλας Θεοφάνης - Π2015092
#### Link στο προσωπικό αποθετήριο του κώδικα: https://github.com/TasoulasTheofanis/D3js-uk-political-donations
#### Link στο εκτελέσιμο του κώδικα:           https://tasoulastheofanis.github.io/D3js-uk-political-donations/

   Η παρούσα εργασία είναι μια παραλλαγή του πηγαίου κώδικα με το παρακάτω λινκ
https://github.com/neilhawkins/d3-uk-political-donations
όπου αναπαραιστά δεδομένα με χρήση της βιβλιοθήκης D3 της Javascript. Πιο συγκεκριμένα, αντλεί στοιχεία από ένα αρχείο με κατάληξη .csv, που εμπεριέχει διάφορες δωρεές που έγιναν στο Ηνωμένο Βασίλειο. Η εργασία διεξήχθη στα πλαίσια του μαθήματος Τεχνολογία Λογισμικού του διδάσκοντα κ.Χωριανόπουλου για το εαρινό εξάμηνο.


   Σκοπός της εργασίας είναι η εκμάσθηση για τις τεχνολογίες λογισμικού, με την επέκταση του παραπάνω κώδικα, ο οποίος δεν δημιουργείται από την αρχή, αλλά γινέται fork απο το κεντρικό αποθετήριο του **ioniodi**. Εκεί πέρα, παρέχεται ο κώδικας ο οποίος είναι τροποποιημένος σε ένα πολύ μικρό βαθμό. Συνοψίζοντας γίνεται επεξεργασία στον κώδικα, όπου παρέχεται από το **ioniodi**, για περαιτέρω αλλαγές και τροποποίησεις. 


### Δήλωση και δέσμευση θέματος εργασίας στο μάθημα Τεχνολογία Λογισμικού(18 Φλεβάρη)

*  Ονοματεπώνυμο: **Τασούλας Θεοφάνης**
*  Αριθμός Μητρώου: **Π2015902**
*  Θέμα εργασίας **"Οπτικοποίηση δεδομένων χορηγιών (UK)"**
*  Προσωπικό αποθετήριο του κώδικα: [Link Αποθετηρίου του κώδικα](https://github.com/TasoulasTheofanis/D3js-uk-political-donations)
*  Link για το εκτελέσιμο: [Link Εκτελέσιμου](https://tasoulastheofanis.github.io/D3js-uk-political-donations/)
*  Link για το αποθετήριο του κώδικα του 1ου Παραδοτέου: [Link Αποθετηρίου του 1ου Παραδοτέου](https://github.com/TasoulasTheofanis/D3js-uk-political-donations/tree/Παραδοτέο-1)
*  Link για το αποθετήριο του κώδικα του 2ου Παραδοτέου: [Link Αποθετηρίου του 2ου Παραδοτέου]
(https://github.com/TasoulasTheofanis/D3js-uk-political-donations/tree/Παραδοτέο-2)

## Αρχικός σχεδιασμός εφαρμογής(25%) (18 Φλεβάρη)

###  Επιλογή εργαλείων  

   Για την υλοποίηση της εργασίας, χρησιμοποιήθηκε κατά το μεγαλύτερο ποσοστό η πλατφόρμα του github. Σε αυτήν έγιναν η συγγραφή και οι δοκιμές του κώδικα όλων των αρχείων. Παράλληλα, η μηχανή αναζήτησης google και το πρόγραμμα συγγραφής κώδικα Sublime Text βοήθησαν σε σημαντικό βαθμό. Το google βοήθησε στην εύρεση πληροφοριών για τη υλοποίηση των απαιτούμενων αλλαγών, ενώ το Sublime Text στην εύρεση και διόρθωση λεπτομερειακών προβλημάτων.    

###  Διαδικασία ανάπτυξης  

   Για την πρώτη αναγκαία αλλαγή χρειάστηκε η μετονομασία του ονόματος του url στο repository της εργασίας, σβήνοντας την κατάληξη ".html" και πειράζοντας το Source στα settings. Προστέθηκε στο repository της εργασίας ένα αρχείο .mp3 για την αναπαραγωγή ήχου, κατά την αλλαγή του πεδίου ομαδοποίησης split by. Ακόμη, σημειώθηκε η κατάλληλη μεταβλητή στο chart.js αρχείο για τον παραπάνω λόγο. Στη συνέχεια, μετονομάστηκαν οι τιμές, που χρησιμοποιούνται για την παρουσίαση χρωμάτων στην οπτικοποίηση των σφαιρών. Επιπλέον, προστέθηκε μια μεταβλητή που εμπεριέχει το αρχικό τμήμα της αναζήτησης μιας κειμενοσειράς στο google. Με το άθροισμα αυτής της μεταβλητής και του ονόματος ενός χορηγού, ο χρήστης μπορεί να μεταφερθεί στην αναζήτηση του συγκεκριμένου χορηγού, πατώντας απλά ένα κλικ πάνω στην σφαίρα που αναπαρίσταται ο αντίστοιχος χορηγός. Αυτό γίνεται με την κληση της συνάρτησης open() με παράμετρο την παραπάνω μεταβλητή και το όνομα του δωρητή.΄Στις επόμενες απαιτούμενες αλλαγές, όπου και υλοποιήθηκαν, δημιουργήθηκαν τρεις νέες κλάσεις zoom, zoom2, zoom3, οι οποίες μεγεθύνουν σε κάποιο βαθμό τη γραμματοσειρά που απεικονίζεται. Ακόμη, μπορεί να μετακινούν λίγο το κείμενο, ώστε να μη γίνεται σύγκρουση με άλλο κείμενο ή σφαίρα. Άλλη απαιτούμενη αλλαγή ήταν η προσθήκη κατάλληλου κώδικα, ώστε να ακούγεται ένας αφηγητής. Αυτός απαγγέλει το όνομα του δωρητή και το ποσό που έδωσε, για τη σφαίρα στην οποία βρίσκεται ο κέρσορας του χρήστη.  Επιπρόσθετα, προστέθηκε νέος κώδικας, ώστε να υλοποιηθεί ένα νέος πεδίο ομαδοποίησης split by. Τέλος, σε διαφορετικό branch δημιουργήθηκε ένα .csv αρχείο με τα στοιχεία του φοιτητή (Ονοματεπώνυμο, αριθμός μητρώου κλπ) και με τις εικόνες των εμβλημάτων των δωρητών, με στόχο την απεικόνιση αυτών τη στιγμή που βρίσκεται το ποντίκι πάνω από την αντίστοιχη σφαίρα.
  
      
###  Σχετικές εικόνες

Κατά την εισαγωγή στο εκτελέσιμο του κώδικα, ο χρήστης επιλέγει αν θα δει τις αλλαγές στο παραδοτέο 1, ή τις διαφορετικές παραλλαγές του παραδοτέου 2.  

<img src="https://i.imgur.com/8DnceOK.png"/>  


Με την εισαγωγή μικρών εικονιδίων/εικόνων, τώρα εμφανίζεται και το έμβλυμα του κάθε δωρητή.

<img src="https://i.imgur.com/Qj09L7b.png"/>  


Νέο τμήμα ομαδοποίησης των δεδομένων  

<img src="https://i.imgur.com/jEui9Zh.png"/>  
  

Με το πάτημα ενός κλικ πάνω σε μια σφαίρα, οδηγεί στην αναζήτηση αποτελεσμάτων, σχετικών με το δωρητή που παρουσιάζεται στη συγκεκριμένη σφαίρα  

<img src="https://i.imgur.com/g1bwDDT.png"/>  


Η μεγέθυνση κειμένου βοηθά τα άτομα με προβλήματα όρασης, να το διαβάσουν πιο εύκολα  

<img src="https://i.imgur.com/ssfQUZg.png"/>  

   

  

###  Αρχικά Συμπεράσματα   

   Συνοψίζοντας, η παραπάνω εργασία εξοικειώνει το μαθητή στη χρήση των γλωσσών προγραμματισμού javascript, css, html5, καθώς και στην κατανόηση, διαχείριση και υλοποίηση της τεχνολογίας λογισμικού. Αποτελεί μια εύχρηστη και αποτελεσματική μέθοδο εκμάθησης μέσω κώδικα προγραμματισμού. 

      


## Τελικό προσχέδιο έργου για σχολιασμό και βελτιώσεις(25%) (3 Μαΐου)

###  Επιλογή εργαλείων  

Για την υλοποίηση της εργασίας, χρησιμοποιήθηκε κατά το μεγαλύτερο ποσοστό η πλατφόρμα του github. Σε αυτήν έγιναν η συγγραφή και οι δοκιμές του κώδικα όλων των αρχείων. Επίσης, η μηχανή αναζήτησης google βοήθησε στην εύρεση πληροφοριών για την υλοποίηση των απαιτούμενων αλλαγών. Ακόμη, το Sublime Text συνέβαλε στην εύρεση και διόρθωση λεπτομερειακών και σημαντικών προβλημάτων, αλλά και στη συγγραφή νέου κώδικα. Στο τέλος αναφέρονται οι ιστοσελίδες που βοήθησαν στην ολοκλήρωση του project.

###  Διαδικασία ανάπτυξης  

   Με την εισαγωγή στην κύρια σελίδα της εργασίας, εμφανίζονται τα στοιχεία διάκρισης (ονοματεπώνυμο και αριθμός μητρώου) της τρέχουσας εργασίας από άλλες, καθώς και τα κουμπιά που οδηγούν στον ιστότοπο του αντίστοιχου παραδοτέου/ζητούμενου παραδοτέου (ουσιαστικά διαφορετικό html και js αρχείο, όπου βρίσκονται στο ίδιο repository).
   
   Το πρώτο ζητούμενο του δεύτερου παραδοτέου, στο οποίο απαιτούνται αλλαγές στο προσωπικό αποθετήριο, αναφερόταν στη δημιουργία μιας σειράς εικόνων από τους δωρητές. Η κάθε εικόνα ενός δωρητή αποτελεί ένα στοιχείο element, το οποίο εμφανίζεται στο κάτω κάτω μέρος της οθόνης, κάθε φορά όπου το ποντίκι περνάει πάνω από τον κύκλο του αντίστοιχου δωρητή. Οι εικόνες πηγάζουν από το κοινό αποθετήριο του κώδικα. Βάσει του τρόπου υλοποίησης, κάθε αρχική εικόνα δημιουργείται στο κάτω κάτω μέρος της οθόνης, τέρμα αριστερά και κάθε νέα εικόνα εμφανίζεται δεξιά της προηγούμενης. Ακόμα, όταν γεμίσει η οθόνη οριζόντια, η επόμενη εικόνα θα εμφανιστεί κάτω από την προηγούμενη οριζόντια σειρά των εικόνων, στην πιο αριστερή θέση. Αυτό συνεπάγεται την δυναμική επεκτασιμότητα και την αύξηση του μεγέθους της οθόνης ολοένα και περισσότερο, όταν γεμίζει κάθε οριζόντια σειρά εικόνων. Αυτό γίνεται, εφόσον οι εικόνες δε διαγράφονται, εκτός αν γίνει ανανέωση (refresh) της σελίδας). Αξίζει να σημειωθεί, ότι χρειάζεται να γίνει μετακίνηση της σελίδας προς τα κάτω (scroll down) προκειμένου να εμφανιστούν οι εικόνες.
   
   Για το πρώτο ζητούμενο, στο οποίο απαιτούνται αλλαγές στο κοινό αποθετήριο του κώδικα με pull request, χρησιμοποιήθηκε ο κώδικας του στο φέκελο participants, στο κοινό αποθετήριο του κώδικα. Έγινε μια μικρή τροποποίηση αυτού, αντικαθιστώντας τα 3 span class σε 2, βάζοντας το κατάλληλο ονοματεπώνυμο και την κατάλληλη ηλεκτρονική διεύθυνση της εικόνας προφίλ (avatar). Έτσι, προστέθηκε ο νέος κώδικας στην περιοχή που δεσμεύτηκε (μετά από δήλωση δέσμευσης) και δοκιμάσθηκε η εκτέλεση του κώδικα στον αντίστοιχο ιστότοπο του προσωπικού αποθετηρίου: https://tasoulastheofanis.github.io/D3js-uk-political-donations/participants/
   
   Η ιστοσελίδα αυτού του ζητούμενου βρίσκεται [εδώ](https://ioniodi.github.io/D3js-uk-political-donations/participants/)
    
   Το δεύτερο ζητούμενο, στο οποίο είναι αναγκαίες αλλαγές στο κοινό αποθετήριο του κώδικα με pull request, είναι η κατασκευή μιας ιστοσελίδας, η οποία αντλεί δεδομένα από το api του github, σχετικά με τους φοιτητές που συνέβαλαν σε αυτό το project. Πιο συγκεκριμένα, εμφανίζεται ένα πλήθος από πλαίσια, όπου το καθένα εμπεριέχει την εικόνα προφίλ, το ονοματεπώνυμο του κάθε φοιτητή, όπως επίσης και τον αριθμό των συνεισφορών του στο κοινό αποθετήριο του κώδικα. Το πέρασμα του ποντικιού πάνω από κάθε πλαίσιο, συνεπάγεται τη μεγέθυνση αυτού και των περιεχομένων του (εικόνα προφίλ και ονοματεπώνυμο/αριθμός συνεισφορών). Επιπρόσθετη μεγέθυνση των περιεχομένων του υφίσταται με το πέρασμα του ποντικιού πάνω σε αυτά. 
   
   Ο ιστότοπος αυτού του ζητούμενου βρίσκεται [εδώ](https://tasoulastheofanis.github.io/D3js-uk-political-donations/participants/2015092.html)
   
   Δυστυχώς δεν έγινε επιτυχημένη η υλοποίηση των υπολοίπων ζητουμένων. Ωστόσο, είναι διαθέσιμη η προβολή των εσφαλμένων ιστοτόπων στα αντίστοιχα κουμπιά στην κύρια σελίδα της εργασίας. Αυτό έχει ως σκοπό την απόδειξη καταβολής προσπάθειας και όχι αμέλεια αυτών των ζητουμένων. Έγινε προσπάθεια να αντικατασταθούν τμήματα ή ακόμα και ολόκληροι οι κώδικες στα αρχεία chart.js και full-viz.html (προηγουμένως ονομαζόντουσαν chart2.js και full-viz2.html) προκειμένου να λειτουργήσουν πολλές διαφορετικές οπτικοποιήσεις με d3 βιβλιοθήκες. Επιδιώχθηκε επίσης, και η χρήση βιβλιοθηκών με χρήση json μορφής για τα δεδομένα και όχι μόνο με csv. Καμία αλλαγή δεν έφερε τα επιθυμητά αποτελέσματα, παρόλες τις προσπάθειες. Ακόμα, δοκιμάσθηκαν διαφορετικά csv αρχεία από δημόσιες στατιστικές αρχές. Μολαταύτα, δεν ολοκληρώθηκε ούτε αυτό το ζητούμενο. 

###  Σχετικές εικόνες

Κατά την εισαγωγή στο εκτελέσιμο του κώδικα, ο χρήστης επιλέγει αν θα δει τις αλλαγές στο παραδοτέο 1, ή τις διαφορετικές παραλλαγές του παραδοτέου 2.  

Με το πέρασμα του ποντικιού πάνω από έναν δωρητή, εμφανίζει στο κάτω κάτω μέρος της οθόνης την φωτογραφία του. Στα δεξιά του βρίσκεται φωτογραφία του αμέσως επόμενου δωρητή, που πέρασε από πάνω το ποντίκι.

Η αρχική οπτικοποίηση νέων δεδομένων δεν συνεπάγει το επιθυμητό αποτέλεσμα.

Αντίστοιχα και η διαφορετική οπτικοποίηση των αρχικών δεδομένων, είναι εσφαλμένη.

Στην παρακάτω ιστοσελίδα, εμφανίζονται οι φοιτητές που συνέβαλαν στο ομαδικό project. Ο καθένας έχει ορίσει μια διαφορετική κινητική αναπαράσταση (animation) της γραμματοσειράς, που αναπαριστά το ψευδώνυμό του στο github. 

Οι φοιτητές που συνέβαλαν στο ομαδικό project εμφανίζονται με τη βοήθεια του github api. 


### Συμπεράσματα

Συνοψίζοντας, η παραπάνω εργασία εμβαθύνει τις γνώσεις των φοιτητών σε γλώσσες προγραμματισμού (π.χ. javascript, css, html5), στη χρήση api, στη χρήση της πλατφόρμας github και στην αναπαράσταση δεδομένων από μια μικρή βάση δεδομένων με αρχεία τύπου json ή csv. Αποτελεί ένα σημαντικό προσανατολισμό στη σωστή αντίληψη του πεδίου της τεχνολογίας λογισμικού. Αυτό αιτιολογείται, εφόσον φέρνει το φοιτητή αντιμέτωπο με τις απαιτήσεις υλοποίησης νέου κώδικα ή επεξεργασίας ήδη υπάρχοντος, συνεισφοράς κώδικα με άλλα άτομα σε κοινό αποθετήριο, αντικατάστασης ή τροποποίησης αρχείων. 

### Δικτυογραφία 

   Ιστότοποι δημοσίων στατιστικών αρχών
   
https://www.stats.govt.nz/tools/csv-files-for-download

https://catalog.data.gov/dataset?res_format=CSV

https://www.bis.org/statistics/full_data_sets.htm

http://statweb.stanford.edu/~sabatti/data.html

http://ec.europa.eu/eurostat/

http://www.statistics.gr/

   Ιστότοποι  για τα υπόλοιπα ζητούμενα
   
https://github.com/d3/d3/wiki/Gallery

https://d3js.org/

https://pages.github.com/

https://developer.github.com/v3/repos/statistics/

https://stackoverflow.com/

https://www.w3schools.com/



## Τελική αναφορά και έργο(10%) έως  6 Ιουνίου

